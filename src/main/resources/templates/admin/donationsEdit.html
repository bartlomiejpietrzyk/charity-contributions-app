<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorate="admin/elements/template/template"
      lang="pl">
<body>
<div layout:fragment="top-bar">
    <div class="btn border-dark"><span th:text="#{page.list.donations}"></span>
        <a href="javascript:history.back()">
            <input type="submit" th:value="#{page.btn.back}"
                   class="btn btn-outline-dark"/></a>
    </div>
</div>

<div layout:fragment="fragmentOne">
    <h1 class="h3 mb-4 text-gray-800" th:text="#{page.list.donation.edit}">Blank Page</h1>
    <div class="container">
        <div class="row">
            <div class="col"></div>
        </div>
        <div class="col">
            <div class="card bg-white border-dark shadow mb-3 ml-3 mr-3">
                <h4 class="card-header text-center"><span th:text="#{page.list.donation.edit}">title</span>
                    <span th:text="#{page.user.titlea}"></span> <span
                            th:text="${donation.user.firstName + ' ' + donation.user.lastName}"></span>
                </h4>
                <div class="card-body col-md-auto" align="center">
                    <div th:if="${param.success}">
                        <div class="text-center alert alert-success mt-4 ml-3 mr-3">
                            <h3 class="text-success" th:text="#{page.list.donation.edit.success}"></h3>
                        </div>
                    </div>
                    <div th:if="${param.failed}">
                        <div class="text-center alert alert-danger mt-4 ml-3 mr-3">
                            <h3 class="text-success" th:text="#{page.list.donation.edit.failed}"></h3>
                        </div>
                    </div>
                    <div th:if="${param.deletesuccess}">
                        <div class="text-center alert alert-warning mt-4 ml-3 mr-3">
                            <h4 th:text="#{page.list.donation.delete}">!</h4>
                        </div>
                    </div>
                    <form th:action="@{/admin/donations/edit(id=${donation.id})}" th:object="${donation}"
                          th:method="post"
                          class="col-6">

                        <h6 class="error-message btn-outline-danger text-white"
                            th:if="${#fields.hasGlobalErrors()}"
                            th:each="error : ${#fields.errors('global')}">
                            <span class="btn-danger" th:text="${error}">Validation error</span></h6>

                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('quantity')}? 'has-error':''">
                            <label for="quantity" class="control-label"
                                   th:text="#{page.list.quantity}">Ilość</label>
                            <input id="quantity"
                                   class="form-control"
                                   th:field="*{quantity}"
                                   th:required="true"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('quantity')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('mobile')}? 'has-error':''">
                            <label for="mobile" class="control-label"
                                   th:text="#{form.mobile}">Telefon</label>
                            <input id="mobile"
                                   class="form-control"
                                   th:field="*{mobile}"
                                   th:required="true"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('mobile')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('street')}? 'has-error':''">
                            <label for="street" class="control-label"
                                   th:text="#{form.street}">Ulica</label>
                            <input id="street"
                                   class="form-control"
                                   th:field="*{street}"
                                   th:required="true"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('street')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('city')}? 'has-error':''">
                            <label for="city" class="control-label"
                                   th:text="#{form.city}">Miasto</label>
                            <input id="city"
                                   class="form-control"
                                   th:field="*{city}"
                                   th:required="true"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('city')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('zipCode')}? 'has-error':''">
                            <label for="zipCode" class="control-label"
                                   th:text="#{form.post.code}">Kod pocztowy</label>
                            <input id="zipCode"
                                   class="form-control"
                                   th:field="*{zipCode}"
                                   th:required="true"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('zipCode')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('donationCreated')}? 'has-error':''">
                            <label for="donationCreated" class="control-label"
                                   th:text="#{form.date.created}">Data</label>
                            <input id="donationCreated"
                                   class="form-control"
                                   th:field="*{donationCreated}"
                                   th:required="true"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('donationCreated')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('date')}? 'has-error':''">
                            <label for="date" class="control-label"
                                   th:text="#{form.date.to.pick}">Data</label>
                            <input id="date"
                                   class="form-control"
                                   th:field="*{date}"
                                   th:required="true"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('date')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('donationPicked')}? 'has-error':''">
                            <label for="date" class="control-label"
                                   th:text="#{form.pickup.date}">Data</label>
                            <input id="donationPicked"
                                   class="form-control"
                                   th:field="*{donationPicked}"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('donationPicked')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('time')}? 'has-error':''">
                            <label for="time" class="control-label"
                                   th:text="#{form.hour}">Czas</label>
                            <input id="time"
                                   class="form-control"
                                   th:field="*{time}"
                                   th:required="true"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('time')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('comment')}? 'has-error':''">
                            <label for="comment" class="control-label"
                                   th:text="#{page.list.comment}">Komentarz</label>
                            <textarea id="comment"
                                      class="form-control"
                                      th:field="*{comment}"
                                      th:required="true"/>
                            <h6 class="error-message btn-outline-danger text-white"
                                th:each="error : ${#fields.errors('comment')}">
                                <span class="btn-danger" th:text="${error}">Validation error</span></h6>
                        </div>


                        <div class="form-group">
                            <span class="" th:text="#{page.list.institution}"></span><br>
                            <select class="btn btn-outline-dark" th:field="*{institution}">
                                <option th:each="institution : ${institutions}" th:value="${institution.id}"
                                        th:text="${institution.name}"></option>
                            </select>
                        </div>
                        <div class="form-group">
                            <span class="" th:text="#{page.list.data.user}"></span><br>
                            <select class="btn btn-outline-dark" th:field="*{user}">
                                <option th:each="user : ${userList}" th:value="${user.id}"
                                        th:text="${'ID: ' + user.id + ' :: ' + user.email}"></option>
                            </select>
                        </div>
                        <div class="form-group">
                            <span class="" th:text="#{page.list.status}"></span><br>
                            <select class="btn btn-outline-dark" th:field="*{status}">
                                <option th:each="stat : ${statusList}" th:value="${stat.id}"
                                        th:text="${stat.name}"></option>
                            </select>
                        </div>
                        <div class="form-group"><span th:text="#{admin.nav.categories}"></span>
                        </div>
                        <div class="form-group alert btn-outline-dark border-dark" th:each="category : ${categories}">
                            <input id="checked" th:field="*{categories}"
                                   type="checkbox"
                                   name="categories" th:value="${category.id}"/>
                            <span class="checkbox"></span>
                            <span class="description" th:text="${category.name}"></span>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-outline-dark" th:text="#{page.btn.edit}"
                                    onclick="return confirm('Czy na pewno chcesz edytować Użytkownika: ' + document.getElementById('email').value + '?')">
                                Register
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>